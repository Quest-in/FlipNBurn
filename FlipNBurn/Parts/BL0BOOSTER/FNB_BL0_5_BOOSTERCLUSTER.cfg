PART
{
	name = FNB_BL0_BOOSTERCLUSTER
	module = Part
	author = `Questin and Vista

		MODEL 
	{
		model = FlipNBurn/Assets/BL0BOOSTER/FNB_BL0_BOOSTERCLUSTER
		position = 0, 0, 0
		rotation = -90, 0, -90
		scale = 1, 1, 1
	}
	rescaleFactor = .625


	TechRequired = advConstruction
	entryCost = 3000
	cost = 15000
	category = FuelTank
	subcategory = 0
	title = Monarch BL-0.5 Engine Skirt
	manufacturer = Rapid Unscheduled Industries
	description = A collection of wor- Well.... Wouldn't call these "Raptors" workhouses would we. Not with their track record...
	tags = spacex, bl1/2, booster, sh, superheavy, 0.5, block, bl0.5, cluster
	CoMOffset = 0, 0, 0
	
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,0,1,1,0

	mass = 33
	dragModelType = default
	maximum_drag = 1.0
	minimum_drag = 0.8
	angularDrag = 2
	crashTolerance = 22
	breakingForce = 250
	breakingTorque = 250
	maxTemp = 12500
	dragMultiplier = 1.3
	NODE
    {
        name = node_stack_top.004
        transform = node_stack_top.004
        size = 4
        method = FIXED_JOINT
    }

	NODE
    {
        name = node_stack_bottom.004
        transform = node_stack_bottom.004
        size = 4
        method = FIXED_JOINT
    }

    MODULE
	{
		name = ModuleEnginesFX
		engineID = All
		thrustVectorTransformName = Full
		runningEffectName = running_full
		engageEffectName  = engage        
    	flameoutEffectName = flameout 
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 11600
		heatProduction = 110
		fxOffset = 0, 0, 0
		EngineType = LiquidFuel
		exhaustDamageDistanceOffset = 1.5
		PROPELLANT
		{
			name = LqdMethane
			ratio = 3
			DrawGauge = False
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1
			DrawGauge = False
		}
		atmosphereCurve
		{
			key = 0 315
			key = 1 295
			key = 12 0.001
		}
	}

    MODULE
	{
		name = ModuleEnginesFX
		engineID = Inner
		runningEffectName = running_inner
		engageEffectName  = engage        
    	flameoutEffectName = flameout 
		thrustVectorTransformName = Gimbal
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 2320
		heatProduction = 110
		fxOffset = 0, 0, 0
		EngineType = LiquidFuel
		exhaustDamageDistanceOffset = 1.5
		PROPELLANT
		{
			name = LqdMethane
			ratio = 3
			DrawGauge = False
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1
			DrawGauge = False
		}
		atmosphereCurve
		{
			key = 0 315
			key = 1 295
			key = 12 0.001
		}
	}

	MODULE
	{
		name = ModuleEnginesFX
		engineID = Core
		thrustVectorTransformName = GimbalCore
		runningEffectName = running_core
		engageEffectName  = engage        
    	flameoutEffectName = flameout     
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 1740
		heatProduction = 110
		fxOffset = 0, 0, 0
		EngineType = LiquidFuel
		exhaustDamageDistanceOffset = 1.5
		PROPELLANT
		{
			name = LqdMethane
			ratio = 3
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1
			DrawGauge = False
		}
		atmosphereCurve
		{
			key = 0 315
			key = 1 295
			key = 12 0.001
		}
	}

	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 3.0
		}
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 1
		fxMax = 0.9
		maxDistance = 75
		falloff = 1.75
		thrustTransformName = Full
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 2
		fxMax = 0.9
		maxDistance = 40
		falloff = 1.75
		thrustTransformName = Gimbal
    }

    MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 4
		fxMax = 0.9
		maxDistance = 22
		falloff = 1.75
		thrustTransformName = GimbalCore
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = GimbalCore
		gimbalRange = 8
 		gimbalResponseSpeed = 16
 		useGimbalResponseSpeed = true
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = Gimbal
		gimbalRange = 8
 		gimbalResponseSpeed = 16
 		useGimbalResponseSpeed = true
	}

	MODULE
	{
       name = ModuleSEPEngineSwitch
	   WaterfallControllerName = EngineMode
	   EngineID = All
	   EngineID = Inner
	   EngineID = Core
	}

	MODULE
	{
		name = ModuleDockingNode
		referenceAttachNode = DockingNode
		nodeTransformName = DockingNode
		nodeType = BTB
		stagingToggleEnabledEditor = false
		acquireForce = 200
        acquireTorque = 50.0
        acquireRange = 2
        captureRange = 0.1
	}

	 MODULE
	{
		name = ModuleEnginesFX
		engineID = Dump
		thrustVectorTransformName = dump
		throttleLocked = True
        stagingEnabled = False
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 0.1
		heatProduction = 0
		useThrustCurve = false
		allowShutdown = True
		nonThrustMotor = True
        EngineType = LiquidFuel
        exhaustDamageMultiplier = 50
		runningEffectName = running_vent
		multFlow = 1
		overrideStagingIconIfBlank = false

		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.0
			DrawGauge = false
		}
		atmosphereCurve
		{
			key = 0 0.005
		}
	}

	EFFECTS
    {
        running_full
        {
            AUDIO
            {
                channel = Ship
                clip = FlipNBurn/Sounds/Cluster
                volume = 0.0 0.0
                volume = 0.1 1.0
                volume = 2.0 3.0
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
        running_inner
        {
            AUDIO
            {
                channel = Ship
                clip = FlipNBurn/Sounds/Landing
                volume = 0.0 0.0
                volume = 0.1 1.0
                volume = 2.0 3.0
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
		running_core
        {
            AUDIO
            {
                channel = Ship
                clip = FlipNBurn/Sounds/Landing
                volume = 0.0 0.0
                volume = 0.1 1.0
                volume = 2.0 3.0
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
        engage
		{
			AUDIO
			{
				channel = Ship
				clip = Raptor3WE/Sounds/R3Ignite
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = thrustTransform
				oneShot = true
				//localOffset = 0,0,1.8
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 0.8
				loop = false
			}
		}
	}
}